[
  {
    "id": 44848464,
    "by": "Starlevel004",
    "timeISO": "2025-08-09T17:39:41.000Z",
    "textPlain": "> I believe what is happening is that those images are being drawn by some script-kiddies. If I understand correctly, the website limited everyone to 1 pixel per 30 seconds, so I guess everyone was just scripting Puppeteer/Chromium to start a new browser, click a pixel, and close the browser, possibly with IP address rotation, but maybe that wasn't even needed.I think you perhaps underestimate just how big of a thing this became basically overnight. I mentioned a drawing over my house to a few people and literally everyone instantly knew what I meant without even saying the website. People love /r/place style things every few years, and this having such a big canvas and being on a world map means that there is a lot of space for everyone to draw literally where they live.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44853756,
    "by": "ivanjermakov",
    "timeISO": "2025-08-10T08:36:48.000Z",
    "textPlain": "> Nice idea, interesting project, next time please contact me before.I understand that my popular service might bring your less popular one to the halt, but please configure it on your end so I know _programmatically_ what its capabilities are.I host no API without rate-limiting. Additionally, clearly listing usage limits might be a good idea.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44848383,
    "by": "andai",
    "timeISO": "2025-08-09T17:29:17.000Z",
    "textPlain": "From the screenshot I wanted to say, couldn't this be done on a single VPS? Seemed over engineered to me. Then I realized the silly pixels are on top of a map of the entire earth. Dang!I'm curious what the peak req/s is like. I think it might be just barely within the range supported by benchmark-friendly web servers.Unless there's some kind of order of magnitude slowdowns due to the nature of the application.Edit: Looks like about 64 pixels per km (4096 per km^2). At full color uncompressed that's about 8TB to cover the entire earth (thinking long-term!). 10TB box is €20/month from Hetzner. You'd definitely want some caching though ;)Edit 2: wplace uses 1000x1000 px pngs for the drawing layer. The drawings load instantly, while the map itself is currently very laggy, and some chunks permanently missing.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846724,
    "by": "colinbartlett",
    "timeISO": "2025-08-09T14:26:14.000Z",
    "textPlain": "Thank you for this breakdown and for this level of transparency. We have been thinking of moving from MapTiler to OpenFreeMap for StatusGator's outage maps.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44852267,
    "by": "Ericson2314",
    "timeISO": "2025-08-10T02:16:27.000Z",
    "textPlain": "Oh wow, TIL there is finally a simple way to actually view OpenStreetMap! Gosh, that's overdue. Glad it's done though!",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44847695,
    "by": "ch33zer",
    "timeISO": "2025-08-09T16:12:37.000Z",
    "textPlain": "Since the limit you ran into was number of open files could you just raise that limit? I get blocking the spammy traffic but theoretically could you have handled more if that limit was upped?",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44853046,
    "by": "wiradikusuma",
    "timeISO": "2025-08-10T05:51:42.000Z",
    "textPlain": "\"Wplace.live happened. Out of the blue, a new collaborative drawing website appeared, built from scratch using OpenFreeMap.\" -- as a founder, you know you're working on the wrong thing when there's a \"fun project\" getting daily traffic more than what you'd get in a lifetime :)",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44854597,
    "by": "arend321",
    "timeISO": "2025-08-10T11:56:16.000Z",
    "textPlain": "I'm using OpenFreeMap commercially, fantastic and stable service.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44847331,
    "by": "rtaylorgarlock",
    "timeISO": "2025-08-09T15:36:00.000Z",
    "textPlain": "Is it always/only 'laziness' (derogatory, i know) when caching isn't implemented by a site like wplace.live ? Why wouldn't they save openfreemap all the traffic when a caching server on their side presumably could serve tiles almost as fast or faster than openfreemap?",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846988,
    "by": "eggbrain",
    "timeISO": "2025-08-09T14:55:22.000Z",
    "textPlain": "Limiting by referrer seems strange — if you know a normal user makes 10-20 requests (let’s assume per minute), can’t you just rate limit requests to 100 requests per minute per IP (5x the average load) and still block the majority of these cases?Or, if it’s just a few bad actors, block based on JA4/JA3 fingerprint?",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44853040,
    "by": "parhamn",
    "timeISO": "2025-08-10T05:50:16.000Z",
    "textPlain": "Since cloudflare is already sponsoring it, I do wonder how much of this type of service can be implemented all on cloudflare. Their stack could be great for tile serving.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44847173,
    "by": "jspiner",
    "timeISO": "2025-08-09T15:14:27.000Z",
    "textPlain": "The cache hit rate is amazing. Is there something you implemented specifically for this?",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44851503,
    "by": "biker142541",
    "timeISO": "2025-08-09T23:58:36.000Z",
    "textPlain": "Curious how this would have compared to a static pmtiles file being read directly by maplibre. I’ve had good luck with virtually equal latency to served tiles when consuming pmtiles via range requests on Bunnycdn.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44854151,
    "by": "CommanderData",
    "timeISO": "2025-08-10T10:18:50.000Z",
    "textPlain": "I love sites like wplace can still go viral and blow up, in a age of an increasingly centralised web. Woot",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846966,
    "by": "charcircuit",
    "timeISO": "2025-08-09T14:52:18.000Z",
    "textPlain": ">Nice idea, interesting project, next time please contact me before.It's impossible to predict that one's project may go viral.>As a single user, you broke the service for everyone.Or you did by not having a high enough fd limit. Blaming sites when using it too much when you advertise there is no limit is not cool. It's not like wplace themselves were maliciously hammering the API.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44848574,
    "by": "hoppp",
    "timeISO": "2025-08-09T17:53:57.000Z",
    "textPlain": "Cool... You did well to ban them.Its a ddos attack, lucky you dont have to pay for the brandwidth, then its a denial of wallet",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44848262,
    "by": "perching_aix",
    "timeISO": "2025-08-09T17:13:35.000Z",
    "textPlain": "Haven't worked with Cloudflare yet first hand, and I'm not familiar with web map tech. But if the site really is pretty much just serving lots of static files, why is Hetzner in the loop? Wouldn't fully migrating to Cloudflare Pages be possible?",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44852809,
    "by": "bravesoul2",
    "timeISO": "2025-08-10T04:44:48.000Z",
    "textPlain": "429 is your friend... but well done for handling the load!",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846937,
    "by": "LoganDark",
    "timeISO": "2025-08-09T14:49:26.000Z",
    "textPlain": "> I believe what is happening is that those images are being drawn by some script-kiddies.Oh absolutely not. I've seen so many autistic people literally just nolifing and also collaborating on huge arts on wplace. It is absolutely not just script kiddies.> 3 billion requests / 2 million users is an average of 1,500 req/user. A normal user might make 10-20 requests when loading a map, so these are extremely high, scripted use cases.I don't know about that either. Users don't just load a map, they look all around the place to search for and see a bunch of the art others have made. I don't know how many requests is typical for \"exploring a map for hours on end\" but I imagine a lot of people are doing just that.I wouldn't completely discount automation but these usage patterns seem by far not impossible. Especially since wplace didn't expect sudden popularity so they may not have optimized their traffic patterns as much as they could have.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846884,
    "by": "v5v3",
    "timeISO": "2025-08-09T14:43:59.000Z",
    "textPlain": "The article mentions Cloudflare, so how much of this was cached by them?",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846923,
    "by": "fnord77",
    "timeISO": "2025-08-09T14:47:42.000Z",
    "textPlain": "sounds like they survived 1,000 reqs/sec and the cloudflare CDN survived 99,000 reqs/sec",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44846979,
    "by": "feverzsj",
    "timeISO": "2025-08-09T14:54:09.000Z",
    "textPlain": "So, OFM was hit by another Million Dollar Homepage for kids.",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44850058,
    "by": "proshno",
    "timeISO": "2025-08-09T20:47:49.000Z",
    "textPlain": "[dead]",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44847652,
    "by": "willsmith72",
    "timeISO": "2025-08-09T16:08:33.000Z",
    "textPlain": "so 96% availability = \"survived\" now?but interesting write-up. If I were a consumer of OpenFreeMap, I would be concerned that such an availability drop was only detected by user reports",
    "parent": 44846318,
    "depth": 1
  },
  {
    "id": 44854124,
    "by": "Aeolun",
    "timeISO": "2025-08-10T10:13:43.000Z",
    "textPlain": "I think it’s reasonable to assume that a free service is not going to deal gracefully with your 100k rps hug of death. The fact that it actually did is an exception, not the rule.If you are hitting anything free with more than 10rps (temporarily) you are an taking advantage in my opinion.",
    "parent": 44853756,
    "depth": 2
  },
  {
    "id": 44849954,
    "by": "TylerE",
    "timeISO": "2025-08-09T20:36:54.000Z",
    "textPlain": "\"€20/month from Hetzner\" is great until you actually need it to be up and working when you need it.",
    "parent": 44848383,
    "depth": 2
  },
  {
    "id": 44846929,
    "by": "hyperknot",
    "timeISO": "2025-08-09T14:48:20.000Z",
    "textPlain": "Feel free to migrate. If you ever worry about High Availability, self-hosting is always an option. But I'm working hard on making the public instance as reliable as possible.",
    "parent": 44846724,
    "depth": 2
  },
  {
    "id": 44854131,
    "by": "bspammer",
    "timeISO": "2025-08-10T10:15:06.000Z",
    "textPlain": "What was wrong with the main site? Genuine question https://www.openstreetmap.org",
    "parent": 44852267,
    "depth": 2
  },
  {
    "id": 44852799,
    "by": "bravesoul2",
    "timeISO": "2025-08-10T04:41:25.000Z",
    "textPlain": "... And then it became 1M rps!",
    "parent": 44852267,
    "depth": 2
  },
  {
    "id": 44847968,
    "by": "hyperknot",
    "timeISO": "2025-08-09T16:43:49.000Z",
    "textPlain": "I've just written my question to the nginx community forum, after a lengthy debugging session with multiple LLMs. Right now, I believe it was the combination of multi_accept + open_file_cache > worker_rlimit_nofile.https://community.nginx.org/t/too-many-open-files-at-1000-re...Also, the servers were doing 200 Mbps, so I couldn't have kept up _much_ longer, no matter the limits.",
    "parent": 44847695,
    "depth": 2
  },
  {
    "id": 44848020,
    "by": "toast0",
    "timeISO": "2025-08-09T16:49:30.000Z",
    "textPlain": "Why should they when openfreemap is behind a CDN and their home page says things like:> Using our public instance is completely free: there are no limits on the number of map views or requests. There’s no registration, no user database, no API keys, and no cookies. We aim to cover the running costs of our public instance through donations.> Is commercial usage allowed?> Yes.IMHO, reading this and then just using it, makes a lot of sense. Yeah, you could put a cache infront of their CDN, but why, when they said it's all good, no limits, for free?I might wonder a bit, if I knew the bandwidth it was using, but I might be busy with other stuff if my site went unexpectedly viral.",
    "parent": 44847331,
    "depth": 2
  },
  {
    "id": 44847417,
    "by": "VladVladikoff",
    "timeISO": "2025-08-09T15:46:52.000Z",
    "textPlain": "I actually have a direct answer for this: priorities. \nI run a fairly popular auction website and we have map tiles via stadia maps. We spend about $80/month on this service for our volume. We definitely could get this cost down to a lower tier by caching the tiles and serving them from our proxy. However we simply haven’t yet had the time to work on this, as there is always some other task which is higher priority.",
    "parent": 44847331,
    "depth": 2
  },
  {
    "id": 44847504,
    "by": "hyperknot",
    "timeISO": "2025-08-09T15:55:01.000Z",
    "textPlain": "We are talking about an insane amount of data here. It was 56 Gbit/s (or 56 x 1 Gbit servers 100% saturated!).\nThis is not something a \"caching server\" could handle. We are talking on the order of CDN networks, like Cloudflare, to be able to handle this.",
    "parent": 44847331,
    "depth": 2
  },
  {
    "id": 44847432,
    "by": "markerz",
    "timeISO": "2025-08-09T15:48:07.000Z",
    "textPlain": "It looks like a fun website, not a for-profit website.  The expectations and focus of fun websites is more to just get it working than to handle the scale.  It sounds like their user base exploded overnight, doubling every 14 hours or so.  It also sounds like it’s other a solo dev or a small group based on the maintainers wording.",
    "parent": 44847331,
    "depth": 2
  },
  {
    "id": 44847055,
    "by": "hyperknot",
    "timeISO": "2025-08-09T15:02:23.000Z",
    "textPlain": "What if one user really wants to browse around the world and explore the map. I remember spending half an hour in Google Earth desktop, just exploring around interesting places.I think referer based limits are better, this way I can ask high users to please choose self-hosting instead of the public instance.",
    "parent": 44846988,
    "depth": 2
  },
  {
    "id": 44848434,
    "by": "toast0",
    "timeISO": "2025-08-09T17:36:02.000Z",
    "textPlain": "Limiting by referrer is probably the right first step. (And changing the front page text)You want to track usage by the site, not the person, because you can ask a site to change usage patterns in a way you can't really ask a site's users. Maybe a per IP limit makes sense too, but you wouldn't want them low enough that it would be effective for something like this.",
    "parent": 44846988,
    "depth": 2
  },
  {
    "id": 44853203,
    "by": "leobuskin",
    "timeISO": "2025-08-10T06:29:34.000Z",
    "textPlain": "I’m also surprised to see nginx and hetzner in this project. Why not entirely Cloudflare: workers, R2, and cache",
    "parent": 44853040,
    "depth": 2
  },
  {
    "id": 44853416,
    "by": "PUSH_AX",
    "timeISO": "2025-08-10T07:24:16.000Z",
    "textPlain": "You can run containers now on CF, I think this was one of the last barriers that might have prevented a lot of software being migrated without a re-architecting.Most stuff could run there now.",
    "parent": 44853040,
    "depth": 2
  },
  {
    "id": 44847243,
    "by": "hyperknot",
    "timeISO": "2025-08-09T15:23:34.000Z",
    "textPlain": "Yes, I designed the whole path structure / location blocks with caching in mind. Here is the generated nginx.conf, if you are interested:https://github.com/hyperknot/openfreemap/blob/main/docs/asse...",
    "parent": 44847173,
    "depth": 2
  },
  {
    "id": 44851621,
    "by": "hyperknot",
    "timeISO": "2025-08-10T00:17:37.000Z",
    "textPlain": "Yes, wplace could solve their whole need by a single, custom-built static pmtile. No need to serve 150 GB of OSM data for their use-case.",
    "parent": 44851503,
    "depth": 2
  }
]