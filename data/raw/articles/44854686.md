GitHub - AdoPi/wlgblock: Wayland Gameboy locker                                            

[Skip to content](#start-of-content)  

## Navigation Menu

Toggle navigation

[](/)

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FAdoPi%2Fwlgblock)

Appearance settings

*   Product
    
    *   [
        
        GitHub Copilot
        
        Write better code with AI
        
        ](https://github.com/features/copilot)
    *   [
        
        GitHub Spark New
        
        Build and deploy intelligent apps
        
        ](https://github.com/features/spark)
    *   [
        
        GitHub Models New
        
        Manage and compare prompts
        
        ](https://github.com/features/models)
    *   [
        
        GitHub Advanced Security
        
        Find and fix vulnerabilities
        
        ](https://github.com/security/advanced-security)
    *   [
        
        Actions
        
        Automate any workflow
        
        ](https://github.com/features/actions)
    
    *   [
        
        Codespaces
        
        Instant dev environments
        
        ](https://github.com/features/codespaces)
    *   [
        
        Issues
        
        Plan and track work
        
        ](https://github.com/features/issues)
    *   [
        
        Code Review
        
        Manage code changes
        
        ](https://github.com/features/code-review)
    *   [
        
        Discussions
        
        Collaborate outside of code
        
        ](https://github.com/features/discussions)
    *   [
        
        Code Search
        
        Find more, search less
        
        ](https://github.com/features/code-search)
    
    Explore
    
    *   [Why GitHub](https://github.com/why-github)
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com)
    *   [GitHub Skills](https://skills.github.com)
    *   [Blog](https://github.blog)
    
*   Solutions
    
    By company size
    
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](/solutions/industry/nonprofits)
    
    By use case
    
    *   [DevSecOps](/solutions/use-case/devsecops)
    *   [DevOps](/solutions/use-case/devops)
    *   [CI/CD](/solutions/use-case/ci-cd)
    *   [View all use cases](/solutions/use-case)
    
    By industry
    
    *   [Healthcare](/solutions/industry/healthcare)
    *   [Financial services](/solutions/industry/financial-services)
    *   [Manufacturing](/solutions/industry/manufacturing)
    *   [Government](/solutions/industry/government)
    *   [View all industries](/solutions/industry)
    
    [View all solutions](/solutions)
    
*   Resources
    
    Topics
    
    *   [AI](/resources/articles/ai)
    *   [DevOps](/resources/articles/devops)
    *   [Security](/resources/articles/security)
    *   [Software Development](/resources/articles/software-development)
    *   [View all](/resources/articles)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [Events & Webinars](https://resources.github.com)
    *   [Ebooks & Whitepapers](https://github.com/resources/whitepapers)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com)
    *   [Executive Insights](https://github.com/solutions/executive-insights)
    
*   Open Source
    
    *   [
        
        GitHub Sponsors
        
        Fund open source developers
        
        ](/sponsors)
    
    *   [
        
        The ReadME Project
        
        GitHub community articles
        
        ](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [
        
        Enterprise platform
        
        AI-powered developer platform
        
        ](/enterprise)
    
    Available add-ons
    
    *   [
        
        GitHub Advanced Security
        
        Enterprise-grade security features
        
        ](https://github.com/security/advanced-security)
    *   [
        
        Copilot for business
        
        Enterprise-grade AI features
        
        ](/features/copilot/copilot-business)
    *   [
        
        Premium Support
        
        Enterprise-grade 24/7 support
        
        ](/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FAdoPi%2Fwlgblock)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=AdoPi%2Fwlgblock)

Appearance settings

Resetting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

[AdoPi](/AdoPi) / **[wlgblock](/AdoPi/wlgblock)** Public

*   [Notifications](/login?return_to=%2FAdoPi%2Fwlgblock) You must be signed in to change notification settings
*   [Fork 0](/login?return_to=%2FAdoPi%2Fwlgblock)
*   [Star 15](/login?return_to=%2FAdoPi%2Fwlgblock)
    

Wayland Gameboy locker

### License

[View license](/AdoPi/wlgblock/blob/main/LICENSE)

[15 stars](/AdoPi/wlgblock/stargazers) [0 forks](/AdoPi/wlgblock/forks) [Branches](/AdoPi/wlgblock/branches) [Tags](/AdoPi/wlgblock/tags) [Activity](/AdoPi/wlgblock/activity)

[Star](/login?return_to=%2FAdoPi%2Fwlgblock)

[Notifications](/login?return_to=%2FAdoPi%2Fwlgblock) You must be signed in to change notification settings

*   [Code](/AdoPi/wlgblock)
*   [Issues 0](/AdoPi/wlgblock/issues)
*   [Pull requests 0](/AdoPi/wlgblock/pulls)
*   [Actions](/AdoPi/wlgblock/actions)
*   [Projects 0](/AdoPi/wlgblock/projects)
*   [Security](/AdoPi/wlgblock/security)
    
    [](/AdoPi/wlgblock/security)
    
    [](/AdoPi/wlgblock/security)
    
    [](/AdoPi/wlgblock/security)
    
    [
    
    ### Uh oh!
    
    ](/AdoPi/wlgblock/security)
    
    [There was an error while loading.](/AdoPi/wlgblock/security) Please reload this page.
    
*   [Insights](/AdoPi/wlgblock/pulse)

Additional navigation options

*   [Code](/AdoPi/wlgblock)
*   [Issues](/AdoPi/wlgblock/issues)
*   [Pull requests](/AdoPi/wlgblock/pulls)
*   [Actions](/AdoPi/wlgblock/actions)
*   [Projects](/AdoPi/wlgblock/projects)
*   [Security](/AdoPi/wlgblock/security)
*   [Insights](/AdoPi/wlgblock/pulse)

# AdoPi/wlgblock

  

 main

[Branches](/AdoPi/wlgblock/branches)[Tags](/AdoPi/wlgblock/tags)

[](/AdoPi/wlgblock/branches)[](/AdoPi/wlgblock/tags)

Go to file

Code

Open more actions menu

## Folders and files

Name

Name

Last commit message

Last commit date

## Latest commit

## History

[1 Commit](/AdoPi/wlgblock/commits/main/)

[](/AdoPi/wlgblock/commits/main/)

[doc](/AdoPi/wlgblock/tree/main/doc "doc")

[doc](/AdoPi/wlgblock/tree/main/doc "doc")

[icons](/AdoPi/wlgblock/tree/main/icons "icons")

[icons](/AdoPi/wlgblock/tree/main/icons "icons")

[resources](/AdoPi/wlgblock/tree/main/resources "resources")

[resources](/AdoPi/wlgblock/tree/main/resources "resources")

[roms](/AdoPi/wlgblock/tree/main/roms "roms")

[roms](/AdoPi/wlgblock/tree/main/roms "roms")

[shaders](/AdoPi/wlgblock/tree/main/shaders "shaders")

[shaders](/AdoPi/wlgblock/tree/main/shaders "shaders")

[src](/AdoPi/wlgblock/tree/main/src "src")

[src](/AdoPi/wlgblock/tree/main/src "src")

[testing](/AdoPi/wlgblock/tree/main/testing "testing")

[testing](/AdoPi/wlgblock/tree/main/testing "testing")

[windows](/AdoPi/wlgblock/tree/main/windows "windows")

[windows](/AdoPi/wlgblock/tree/main/windows "windows")

[.gitattributes](/AdoPi/wlgblock/blob/main/.gitattributes ".gitattributes")

[.gitattributes](/AdoPi/wlgblock/blob/main/.gitattributes ".gitattributes")

[.gitignore](/AdoPi/wlgblock/blob/main/.gitignore ".gitignore")

[.gitignore](/AdoPi/wlgblock/blob/main/.gitignore ".gitignore")

[LICENSE](/AdoPi/wlgblock/blob/main/LICENSE "LICENSE")

[LICENSE](/AdoPi/wlgblock/blob/main/LICENSE "LICENSE")

[README.md](/AdoPi/wlgblock/blob/main/README.md "README.md")

[README.md](/AdoPi/wlgblock/blob/main/README.md "README.md")

[banner.png](/AdoPi/wlgblock/blob/main/banner.png "banner.png")

[banner.png](/AdoPi/wlgblock/blob/main/banner.png "banner.png")

[camera.png](/AdoPi/wlgblock/blob/main/camera.png "camera.png")

[camera.png](/AdoPi/wlgblock/blob/main/camera.png "camera.png")

[crlock.patch](/AdoPi/wlgblock/blob/main/crlock.patch "crlock.patch")

[crlock.patch](/AdoPi/wlgblock/blob/main/crlock.patch "crlock.patch")

[demo.gif](/AdoPi/wlgblock/blob/main/demo.gif "demo.gif")

[demo.gif](/AdoPi/wlgblock/blob/main/demo.gif "demo.gif")

[flake.lock](/AdoPi/wlgblock/blob/main/flake.lock "flake.lock")

[flake.lock](/AdoPi/wlgblock/blob/main/flake.lock "flake.lock")

[flake.nix](/AdoPi/wlgblock/blob/main/flake.nix "flake.nix")

[flake.nix](/AdoPi/wlgblock/blob/main/flake.nix "flake.nix")

[meson.build](/AdoPi/wlgblock/blob/main/meson.build "meson.build")

[meson.build](/AdoPi/wlgblock/blob/main/meson.build "meson.build")

[meson\_options.txt](/AdoPi/wlgblock/blob/main/meson_options.txt "meson_options.txt")

[meson\_options.txt](/AdoPi/wlgblock/blob/main/meson_options.txt "meson_options.txt")

[print.wav](/AdoPi/wlgblock/blob/main/print.wav "print.wav")

[print.wav](/AdoPi/wlgblock/blob/main/print.wav "print.wav")

[tileset.png](/AdoPi/wlgblock/blob/main/tileset.png "tileset.png")

[tileset.png](/AdoPi/wlgblock/blob/main/tileset.png "tileset.png")

[video.mp4](/AdoPi/wlgblock/blob/main/video.mp4 "video.mp4")

[video.mp4](/AdoPi/wlgblock/blob/main/video.mp4 "video.mp4")

View all files

## Repository files navigation

*   [README](#)
*   [License](#)

# Gameboy locker for Wayland

[](#gameboy-locker-for-wayland)

[![Demo](/AdoPi/wlgblock/raw/main/demo.gif)](/AdoPi/wlgblock/blob/main/demo.gif) This project replaces the usual password screen with a Gameboy emulator running a patched Pokémon game! To unlock your session, you have to solve a little challenge, kind of like a mini escape room built into your OS.

## Unlock your session with fun!

[](#unlock-your-session-with-fun)

I've been a Linux enthusiast since I was a kid. What always captivated me was the freedom to customize my system exactly the way I wanted. With Wayland, we've reached an incredible level of performance. It's like turning your operating system into a video game! I've always been fascinated by the blend of fun and the serious, technical nature of an OS. That’s what inspired me to create this project.

I started by studying Wayland, its protocol and how to build a compositor. Then I became particularly intrigued by the concept of a locker, which reminded me a bit of an escape game. That’s when I thought: how cool would it be to solve a puzzle to unlock your session, instead of just typing a password? Since I’ve worked with emulators in the past and I’m a huge Pokémon fan, the idea of building the puzzle around that game came to me instantly!

I've got plenty more ideas, see you around!

## Solve this puzzle

[](#solve-this-puzzle)

⚠️ Spoilter alert ⚠️

As this is a puzzle game: the Pokémon party in the menu is hidden, you need to click on the radio to activate it. Then you can set the good password to unlock your session!

## Readme

[](#readme)

This project uses ext-session-lock-v1 protocol, you need a compositor which implements this protocol to use this project (sway is fine).

Warning! This project is very experimental! Even if I use it regularly, it is only a proof of concept. Use it at your own risk!

You need to have a compatible game, I provide a little patch to patch the project from [https://github.com/pret/pokecrystal](https://github.com/pret/pokecrystal). Edit this patch to set your own password!

You need to be on this commit: 961fad9e1, then you can apply the patch provided on this repo

`patch -p1 < crlock.patch`

It will apply the patch that provide a way for the emulator to know when it can unlock your session (in addition to some nice mods made by myself: skip intro, no popup menu in pokémon party).

After applying this patch, you need to compile the game.

Then, you can run this project by using nix to enter into a shell which builds this project `nix develop`

Now, you are free to run this locker! `./build/wlgblock patched-game.gbc`

## How it works?

[](#how-it-works)

I have implemented a low level window in Wayland ( EGL + keyboard listeners ), this is the kind of job SDL or GTK usually do for you. I've been stucked with SDL3 for a long time, trying to use a raw wl\_surface object without success, so I decided to implement my own window without any help of a higher level GUI.

It has given me the freedom of doing what I wanted with the Wayland objects I needed.

Once the window was done: I have added the ext-session-lock protocol to support locking and unlocking my session securely: even if the locker crashes, you can't unlock your session, thank you Wayland.

Then, I needed to hack an emulator to merge my window system into this emulator, I choose gbcc because it already supported multiple GUI backends ( SDL, GTK ). I just added my wayland window as a new GUI backend and that's it, the Gameboy locker was done! I'm not sure if it was necessary but I also converted the shaders to OpenGLES2 as Wayland seems to be compatible with GLES2 only.

Lastly, I've hacked the Pokémon Cristal game assembly to put my password logic into the game. Once a password has been entered correctly, I put an arbitrary value into a specific RAM address ( one that should not be used at this stage of the game ). My locker listens to this address, waiting for the value to be the exact same one. Once it recognizes the good value from the good RAM address, it knows it's time to unlock the session!

## Thanks

[](#thanks)

Many thanks to

*   [GBCC](https://gbcc.github.io)
*   [Pret-Crystal](https://github.com/pret/pokecrystal)

## License

[](#license)

This project has a double license. The original project is under the MIT license but all modifications made to the code to transform this project into a locker are under the GPLv3 license.

[![License: GPL v3](https://camo.githubusercontent.com/8a398fc9fbf479a323d2d91b9fcb6fb9c6b4d08e96dbb544488ccbed312115fc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d47504c76332d626c75652e737667)](https://camo.githubusercontent.com/8a398fc9fbf479a323d2d91b9fcb6fb9c6b4d08e96dbb544488ccbed312115fc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d47504c76332d626c75652e737667)

## About

Wayland Gameboy locker

### Resources

[Readme](#readme-ov-file)

### License

[View license](#License-1-ov-file)

### Uh oh!

There was an error while loading. Please reload this page.

[Activity](/AdoPi/wlgblock/activity)

### Stars

[**15** stars](/AdoPi/wlgblock/stargazers)

### Watchers

[**0** watching](/AdoPi/wlgblock/watchers)

### Forks

[**0** forks](/AdoPi/wlgblock/forks)

[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FAdoPi%2Fwlgblock&report=AdoPi+%28user%29)

## [Releases](/AdoPi/wlgblock/releases)

No releases published

## [Packages 0](/users/AdoPi/packages?repo_name=wlgblock)

No packages published  

## Languages

*   [C 53.8%](/AdoPi/wlgblock/search?l=c)
*   [C++ 37.8%](/AdoPi/wlgblock/search?l=c%2B%2B)
*   [Assembly 6.1%](/AdoPi/wlgblock/search?l=assembly)
*   [GLSL 0.6%](/AdoPi/wlgblock/search?l=glsl)
*   [Meson 0.6%](/AdoPi/wlgblock/search?l=meson)
*   [Shell 0.4%](/AdoPi/wlgblock/search?l=shell)
*   Other 0.7%

## Footer

[](https://github.com)© 2025 GitHub, Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You can’t perform that action at this time.