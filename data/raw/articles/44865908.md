Fighting with YouTube to show a preview image – SOS                                                                  

[Skip to content](#content)

[![Unknown's avatar](https://0.gravatar.com/avatar/9b6326a643e3c80cc172420aafbd5222a168b4657275c08cb7def287702bec3b?s=80&d=identicon&r=G)](https://shaneosullivan.wordpress.com/)

[SOS](https://shaneosullivan.wordpress.com/)

Shane O'Sullivan's technical blog… really ties the room together

# Fighting with YouTube to show a preview image

[Shane O'Sullivan](https://shaneosullivan.wordpress.com/author/shaneosullivan/ "Posts by Shane O'Sullivan") [Technical](https://shaneosullivan.wordpress.com/category/technical/) August 11, 2025August 11, 2025 2 Minutes

**TLDR: [Click here](https://chofter.com/examples/youtubePreview.html) for code to implement a lightweight, resilient clickable YouTube preview.**

YouTube videos are expensive to load on a web page. This compounds if you want your page to display many videos at the same time for the user to choose from. Before the user even plays the video, it loads 4MB onto your previously zippy page.

[![](https://shaneosullivan.wordpress.com/wp-content/uploads/2025/08/screenshot-2025-08-11-at-23.29.01.png?w=1024)](https://shaneosullivan.wordpress.com/wp-content/uploads/2025/08/screenshot-2025-08-11-at-23.29.01.png)

Of course, YouTube does a decent job of caching these resources, but your browser is still doing all this work, creating another complete page context per video, executing all it’s JavaScript etc.

The ideal state is that an **iframe** is only created when the user plays the video, so if you’re listing dozens of videos that can be played in place you only pay the performance penalty when the user actually requests the video to play.

**A solution … that YouTube makes brittle**

One solution is to first show a preview image using a thumbnail image from the video, and when that is clicked, swapping it out for the **iframe**. This works great! … until it doesn’t.

**The Problem**

The url for a thumbnail image looks like [`https://img.youtube.com/vi/bJ7mTY9501c/maxresdefault.jpg`](https://img.youtube.com/vi/bJ7mTY9501c/maxresdefault.jpg) . Note the [`maxresdefault.jpg`](https://img.youtube.com/vi/bJ7mTY9501c/maxresdefault.jpg) at the end, this specifies the highest quality possible preview image. The problem is that this only exists on some videos and not others.

It should be easy to add an `onerror` handler though right? Then we can fall back to a lower res preview image. Haha, yeah, but no.

Instead of simply failing to return the image, sending a `404` response header and causing the `<img />` element to trigger it’s `onerror` listener, YouTube **both** sends a `404` response **and** sends a small ugly placeholder image that makes your site look broken. This triggers the `onload` listener instead of the the expected `onerror` listener.

[![](https://shaneosullivan.wordpress.com/wp-content/uploads/2025/08/maxresdefault.jpg?w=120)](https://shaneosullivan.wordpress.com/wp-content/uploads/2025/08/maxresdefault.jpg)

**The Solution**

Instead of an `onerror` , add an `onload` handler to the `<img />` element, and check the size of the image. The ugly fallback image is 120px wide and 90px tall. Check the size of the image, and if the fallback image is detected, iterate through the available thumnail images until one loads. The image below shows an implementation of this.

[![](https://shaneosullivan.wordpress.com/wp-content/uploads/2025/08/screenshot-2025-08-12-at-00.01.36.png?w=1024)](https://shaneosullivan.wordpress.com/wp-content/uploads/2025/08/screenshot-2025-08-12-at-00.01.36.png)

**Full Example**

There’s a full no-framework example at [https://chofter.com/examples/youtubePreview.html](https://chofter.com/examples/youtubePreview.html) , view the source for the full example. This can be easily adapted for any framework like React, Vue etc.

**Prior Art**

Paul Irish describes another solution to this problem that I found after I built this, check it out [here](https://github.com/paulirish/lite-youtube-embed/blob/master/youtube-thumbnail-urls.md). That also points to these three implementations that are also worth perusing.

*   [https://github.com/ampproject/amphtml/blob/master/extensions/amp-youtube](https://github.com/ampproject/amphtml/blob/master/extensions/amp-youtube)
*   [https://github.com/Daugilas/lazyYT](https://github.com/Daugilas/lazyYT)
*   [https://github.com/vb/lazyframe](https://github.com/vb/lazyframe)

I like mine as it uses the least code and is trivial to implement in whatever framework you like, but another of these might suit your needs or taste better.

### Share this:

*   [Share](#)

*   [Click to share on Facebook (Opens in new window) Facebook](https://shaneosullivan.wordpress.com/2025/08/11/fighting-with-youtube-to-show-a-preview-image/?share=facebook)
*   [Click to share on X (Opens in new window) X](https://shaneosullivan.wordpress.com/2025/08/11/fighting-with-youtube-to-show-a-preview-image/?share=twitter)

Like Loading...

### _Related_

*   Tagged
*   [digital-marketing](https://shaneosullivan.wordpress.com/tag/digital-marketing/)
*   [performance](https://shaneosullivan.wordpress.com/tag/performance/)
*   [seo](https://shaneosullivan.wordpress.com/tag/seo/)
*   [webspeed](https://shaneosullivan.wordpress.com/tag/webspeed/)
*   [youtube](https://shaneosullivan.wordpress.com/tag/youtube/)

![Unknown's avatar](https://0.gravatar.com/avatar/9b6326a643e3c80cc172420aafbd5222a168b4657275c08cb7def287702bec3b?s=80&d=identicon&r=G)

## Published by Shane O'Sullivan

I am a software engineer and manager from Ireland. I spent 7 years working in Ireland from 2003 – 2010, then ten years in Silicon Valley from 2010 to 2020. In California I spent about 6.5 years at Facebook Engineering, the last three of which I was an engineering manager in the Ads organisation focusing on customer facing products for creating and managing ads. At Stripe I built the Developer Productivity organisation, with teams that were responsible for the use of the Ruby language, testing infrastructure, documentation, developer tooling (e.g. IDE integrations) and more. At Promise, I was Head of Engineering from 2018 – 2020, responsible for building the first few iterations of our products, hiring for all product roles, meeting with clients and investors, and anything else needed to get a tiny startup bootstrapped and successful. Now I’m back in Ireland, working various projects while advising the great people at Stainless (stainless.com). This blog contains my various musings on all things technical/interesting on the interweb and beyond. [View all posts by Shane O'Sullivan](https://shaneosullivan.wordpress.com/author/shaneosullivan/)

**Published** August 11, 2025August 11, 2025

## Post navigation

[Previous Post On Designing For Children](https://shaneosullivan.wordpress.com/2025/07/28/on-designing-for-children/)

## One thought on “Fighting with YouTube to show a preview image”

1.  Pingback: [与YouTube争取显示预览图像。 - 偏执的码农](https://geek.ds3783.com/2025/08/%e4%b8%8eyoutube%e4%ba%89%e5%8f%96%e6%98%be%e7%a4%ba%e9%a2%84%e8%a7%88%e5%9b%be%e5%83%8f%e3%80%82/)
    

### Leave a comment [Cancel reply](/2025/08/11/fighting-with-youtube-to-show-a-preview-image/#respond)

   

Δ

# Other me

*   [X](https://twitter.com/chofter)
*   [LinkedIn](https://www.linkedin.com/in/shaneos/)
*   [Facebook](https://facebook.com/shaneos)

# Recent Posts

*   [Fighting with YouTube to show a preview image](https://shaneosullivan.wordpress.com/2025/08/11/fighting-with-youtube-to-show-a-preview-image/)
*   [On Designing For Children](https://shaneosullivan.wordpress.com/2025/07/28/on-designing-for-children/)
*   [Search Huge JSON files on the Web](https://shaneosullivan.wordpress.com/2025/06/16/search-huge-json-files-on-the-web/)
*   [Explore Wallpapers for Mac](https://shaneosullivan.wordpress.com/2025/04/22/explore-wallpapers-for-mac/)
*   [Optimizing iWittr.com to reduce Google Cloud & Vercel costs](https://shaneosullivan.wordpress.com/2025/03/25/optimizing-iwittr-com-to-reduce-google-cloud-vercel-costs/)

# Archives

Archives Select Month August 2025 July 2025 June 2025 April 2025 March 2025 January 2025 October 2024 May 2024 April 2024 February 2024 November 2023 June 2023 May 2023 February 2023 December 2022 September 2022 March 2022 June 2021 January 2021 December 2020 September 2019 May 2019 October 2018 August 2018 June 2018 March 2018 January 2018 October 2017 September 2017 May 2017 January 2017 October 2016 September 2016 May 2016 November 2014 July 2014 August 2013 June 2013 February 2013 October 2012 June 2012 May 2012 December 2011 October 2011 September 2011 August 2011 July 2011 June 2011 March 2011 January 2011 November 2010 September 2010 August 2010 June 2010 April 2010 March 2010 February 2010 January 2010 December 2009 November 2009 October 2009 September 2009 August 2009 July 2009 June 2009 May 2009 April 2009 March 2009 February 2009 January 2009 December 2008 November 2008 October 2008 September 2008 August 2008 June 2008 May 2008 April 2008 March 2008 February 2008 January 2008 December 2007 October 2007 September 2007 August 2007 July 2007 June 2007 May 2007 April 2007 March 2007 February 2007 January 2007 December 2006 October 2006 September 2006 August 2006 July 2006 June 2006 

# Subscribe

 [![](https://i0.wp.com/www.toprankresults.com/tools/RSS-images/feed-icon.gif)](https://shaneosullivan.wordpress.com/atom "Subscribe to my Atom feed")Atom 0.3 [![](https://i0.wp.com/www.toprankresults.com/tools/RSS-images/feed-icon.gif)](https://shaneosullivan.wordpress.com/feed "Subscribe to my RSS feed") RSS 2.0

# Recent Posts

*   [Fighting with YouTube to show a preview image](https://shaneosullivan.wordpress.com/2025/08/11/fighting-with-youtube-to-show-a-preview-image/)
*   [On Designing For Children](https://shaneosullivan.wordpress.com/2025/07/28/on-designing-for-children/)
*   [Search Huge JSON files on the Web](https://shaneosullivan.wordpress.com/2025/06/16/search-huge-json-files-on-the-web/)
*   [Explore Wallpapers for Mac](https://shaneosullivan.wordpress.com/2025/04/22/explore-wallpapers-for-mac/)
*   [Optimizing iWittr.com to reduce Google Cloud & Vercel costs](https://shaneosullivan.wordpress.com/2025/03/25/optimizing-iwittr-com-to-reduce-google-cloud-vercel-costs/)

# Blogs

*   [Alex Russell](http://alex.dojotoolkit.org/ "Co-Founder of the Dojo Open Source project")
*   [Carol Jones](http://www-03.ibm.com/developerworks/blogs/page/jcarol "An IBM Fellow’s views on social networking and massive amateur integration")
*   [Chofter.com Blog](http://chofter.com/blog/ "The blog for the best search portal on the net")
*   [James Snell](http://www.snellspace.com "James Snell’s Blog")
*   [Rob Yates](http://www.robubu.com "Rob Yates Blog")

# Interests

*   [DojoBuilder](http://dojobuilder.skynet.ie "Tool for creating custom builds of the Dojo Ajax Toolkit")
*   [GreaseMonkey Scripts](http://userscripts.org/users/27880;scripts "Useful GreaseMonkey scripts written by me")
*   [MapViewer for Robotics](http://mapviewer.skynet.ie/ "An application I wrote based on my masters thesis for working with maps and mobile robots")

# Links

*   [![JavaScript JS Documentation: JS Array join, JavaScript Array join, JS Array .join, JavaScript Array .join](http://static.jsconf.us/promotejshs.png "JavaScript JS Documentation: JS Array join, JavaScript Array join, JS Array .join, JavaScript Array .join")](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array "JavaScript JS Documentation: JS Array join, JavaScript Array join, JS Array .join, JavaScript Array .join")

# Projects

*   [Chofter webOS Apps](http://www.facebook.com/pages/Chofter-webOS-Apps/106828309386840?v=wall "Facebook page for Chofter Apps")
*   [Chofter.com](http://chofter.com "The best search portal on the Web")

# Publications

*   [Benchmarking Map Building Algorithms](http://www.skynet.ie/~sos/masters/ArobPapers/Benchmarking_AROB2004paper.pdf "Developing a Benchmarking Framework for Map Building Paradigms")
*   [Evaluation of Sonar Models](http://www.skynet.ie/~sos/masters/ArobPapers/SonarModelsMathsAROB2004Paper.pdf "A Quantitive evaluation of sonar models and mathematical update methods for Map Building with mobile robots")
*   [IBM WMC ISV Integration Guide](http://www.redbooks.ibm.com/redpapers/abstracts/redp4119.html "My published Redbook entitled: Workplace Managed Client ISV Integration Guide")
*   [Linear Feature Prediction](http://www.skynet.ie/~sos/masters/ArobPapers/FeaturePredictionPaper.pdf "Linear Feature Prediction for Confidence Estimation of Sonar Readings in Map Building")
*   [Masters Thesis](http://www.skynet.ie/~sos/masters/Masters%20Thesis.pdf "My masters thesis on Map Building with mobile robots")
*   [Vectorising Spatial Maps](http://mapviewer.skynet.ie/docs/An%20Algorithm%20for%20Vectorising%20Spatial%20Maps%20based%20on%20the%20Sweep.pdf "An algorithm I wrote from converting bitmap based spatial maps to vector based maps leveraging the Voronoi algorithm")

# Visits to this blog

[![](http://clustrmaps.com/counter/index2.php?url=https://shaneosullivan.wordpress.com)](http://clustrmaps.com/counter/maps.php?url=https://shaneosullivan.wordpress.com)

[Blog at WordPress.com.](https://wordpress.com/?ref=footer_blog)

  

*   [Comment](https://shaneosullivan.wordpress.com/2025/08/11/fighting-with-youtube-to-show-a-preview-image/#comments)
*   Reblog
*   Subscribe Subscribed
    
    *    [![](https://shaneosullivan.wordpress.com/wp-content/uploads/2023/11/cropped-shane_logo-1.png?w=50) SOS](https://shaneosullivan.wordpress.com)
    
    Join 31 other subscribers
    
        
    
    Sign me up
    
    *   Already have a WordPress.com account? [Log in now.](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fshaneosullivan.wordpress.com%2F2025%2F08%2F11%2Ffighting-with-youtube-to-show-a-preview-image%2F&signup_flow=account)
        
    
*   [Privacy](#)
*   *    [![](https://shaneosullivan.wordpress.com/wp-content/uploads/2023/11/cropped-shane_logo-1.png?w=50) SOS](https://shaneosullivan.wordpress.com)
    *   Subscribe Subscribed
    *   [Sign up](https://wordpress.com/start/)
    *   [Log in](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fshaneosullivan.wordpress.com%2F2025%2F08%2F11%2Ffighting-with-youtube-to-show-a-preview-image%2F&signup_flow=account)
    *   [Copy shortlink](https://wp.me/p15eg-kt)
    *   [Report this content](https://wordpress.com/abuse/?report_url=https://shaneosullivan.wordpress.com/2025/08/11/fighting-with-youtube-to-show-a-preview-image/)
    *   [View post in Reader](https://wordpress.com/reader/blogs/258432/posts/1269)
    *   [Manage subscriptions](https://subscribe.wordpress.com/)
    *   Collapse this bar
    

[](#)[](#)

Loading Comments...

 

Write a Comment...

Email (Required) 

Name (Required) 

Website 

[](#)

        

%d

![](https://pixel.wp.com/b.gif?v=noscript)