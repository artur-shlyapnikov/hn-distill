GitHub - wyattjoh/jmap-mcp: A Model Context Protocol (MCP) server that provides tools for interacting with JMAP (JSON Meta Application Protocol) email servers. Built with Deno and using the jmap-jam client library.                                            

[Skip to content](#start-of-content)  

## Navigation Menu

Toggle navigation

[](/)

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwyattjoh%2Fjmap-mcp)

Appearance settings

*   Product
    
    *   [
        
        GitHub Copilot
        
        Write better code with AI
        
        ](https://github.com/features/copilot)
    *   [
        
        GitHub Spark New
        
        Build and deploy intelligent apps
        
        ](https://github.com/features/spark)
    *   [
        
        GitHub Models New
        
        Manage and compare prompts
        
        ](https://github.com/features/models)
    *   [
        
        GitHub Advanced Security
        
        Find and fix vulnerabilities
        
        ](https://github.com/security/advanced-security)
    *   [
        
        Actions
        
        Automate any workflow
        
        ](https://github.com/features/actions)
    
    *   [
        
        Codespaces
        
        Instant dev environments
        
        ](https://github.com/features/codespaces)
    *   [
        
        Issues
        
        Plan and track work
        
        ](https://github.com/features/issues)
    *   [
        
        Code Review
        
        Manage code changes
        
        ](https://github.com/features/code-review)
    *   [
        
        Discussions
        
        Collaborate outside of code
        
        ](https://github.com/features/discussions)
    *   [
        
        Code Search
        
        Find more, search less
        
        ](https://github.com/features/code-search)
    
    Explore
    
    *   [Why GitHub](https://github.com/why-github)
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com)
    *   [GitHub Skills](https://skills.github.com)
    *   [Blog](https://github.blog)
    
*   Solutions
    
    By company size
    
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](/solutions/industry/nonprofits)
    
    By use case
    
    *   [DevSecOps](/solutions/use-case/devsecops)
    *   [DevOps](/solutions/use-case/devops)
    *   [CI/CD](/solutions/use-case/ci-cd)
    *   [View all use cases](/solutions/use-case)
    
    By industry
    
    *   [Healthcare](/solutions/industry/healthcare)
    *   [Financial services](/solutions/industry/financial-services)
    *   [Manufacturing](/solutions/industry/manufacturing)
    *   [Government](/solutions/industry/government)
    *   [View all industries](/solutions/industry)
    
    [View all solutions](/solutions)
    
*   Resources
    
    Topics
    
    *   [AI](/resources/articles/ai)
    *   [DevOps](/resources/articles/devops)
    *   [Security](/resources/articles/security)
    *   [Software Development](/resources/articles/software-development)
    *   [View all](/resources/articles)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [Events & Webinars](https://resources.github.com)
    *   [Ebooks & Whitepapers](https://github.com/resources/whitepapers)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com)
    *   [Executive Insights](https://github.com/solutions/executive-insights)
    
*   Open Source
    
    *   [
        
        GitHub Sponsors
        
        Fund open source developers
        
        ](/sponsors)
    
    *   [
        
        The ReadME Project
        
        GitHub community articles
        
        ](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [
        
        Enterprise platform
        
        AI-powered developer platform
        
        ](/enterprise)
    
    Available add-ons
    
    *   [
        
        GitHub Advanced Security
        
        Enterprise-grade security features
        
        ](https://github.com/security/advanced-security)
    *   [
        
        Copilot for business
        
        Enterprise-grade AI features
        
        ](/features/copilot/copilot-business)
    *   [
        
        Premium Support
        
        Enterprise-grade 24/7 support
        
        ](/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwyattjoh%2Fjmap-mcp)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=wyattjoh%2Fjmap-mcp)

Appearance settings

Resetting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

[wyattjoh](/wyattjoh) / **[jmap-mcp](/wyattjoh/jmap-mcp)** Public

*   [Notifications](/login?return_to=%2Fwyattjoh%2Fjmap-mcp) You must be signed in to change notification settings
*   [Fork 0](/login?return_to=%2Fwyattjoh%2Fjmap-mcp)
*   [Star 7](/login?return_to=%2Fwyattjoh%2Fjmap-mcp)
    

A Model Context Protocol (MCP) server that provides tools for interacting with JMAP (JSON Meta Application Protocol) email servers. Built with Deno and using the jmap-jam client library.

### License

[MIT license](/wyattjoh/jmap-mcp/blob/main/LICENSE)

[7 stars](/wyattjoh/jmap-mcp/stargazers) [0 forks](/wyattjoh/jmap-mcp/forks) [Branches](/wyattjoh/jmap-mcp/branches) [Tags](/wyattjoh/jmap-mcp/tags) [Activity](/wyattjoh/jmap-mcp/activity)

[Star](/login?return_to=%2Fwyattjoh%2Fjmap-mcp)

[Notifications](/login?return_to=%2Fwyattjoh%2Fjmap-mcp) You must be signed in to change notification settings

*   [Code](/wyattjoh/jmap-mcp)
*   [Issues 0](/wyattjoh/jmap-mcp/issues)
*   [Pull requests 0](/wyattjoh/jmap-mcp/pulls)
*   [Actions](/wyattjoh/jmap-mcp/actions)
*   [Projects 0](/wyattjoh/jmap-mcp/projects)
*   [Security](/wyattjoh/jmap-mcp/security)
    
    [](/wyattjoh/jmap-mcp/security)
    
    [](/wyattjoh/jmap-mcp/security)
    
    [](/wyattjoh/jmap-mcp/security)
    
    [
    
    ### Uh oh!
    
    ](/wyattjoh/jmap-mcp/security)
    
    [There was an error while loading.](/wyattjoh/jmap-mcp/security) Please reload this page.
    
*   [Insights](/wyattjoh/jmap-mcp/pulse)

Additional navigation options

*   [Code](/wyattjoh/jmap-mcp)
*   [Issues](/wyattjoh/jmap-mcp/issues)
*   [Pull requests](/wyattjoh/jmap-mcp/pulls)
*   [Actions](/wyattjoh/jmap-mcp/actions)
*   [Projects](/wyattjoh/jmap-mcp/projects)
*   [Security](/wyattjoh/jmap-mcp/security)
*   [Insights](/wyattjoh/jmap-mcp/pulse)

# wyattjoh/jmap-mcp

  

Â main

[Branches](/wyattjoh/jmap-mcp/branches)[Tags](/wyattjoh/jmap-mcp/tags)

[](/wyattjoh/jmap-mcp/branches)[](/wyattjoh/jmap-mcp/tags)

Go to file

Code

Open more actions menu

## Folders and files

Name

Name

Last commit message

Last commit date

## Latest commit

## History

[5 Commits](/wyattjoh/jmap-mcp/commits/main/)

[](/wyattjoh/jmap-mcp/commits/main/)

[.github/workflows](/wyattjoh/jmap-mcp/tree/main/.github/workflows "This path skips through empty directories")

[.github/workflows](/wyattjoh/jmap-mcp/tree/main/.github/workflows "This path skips through empty directories")

[.vscode](/wyattjoh/jmap-mcp/tree/main/.vscode ".vscode")

[.vscode](/wyattjoh/jmap-mcp/tree/main/.vscode ".vscode")

[src](/wyattjoh/jmap-mcp/tree/main/src "src")

[src](/wyattjoh/jmap-mcp/tree/main/src "src")

[CLAUDE.md](/wyattjoh/jmap-mcp/blob/main/CLAUDE.md "CLAUDE.md")

[CLAUDE.md](/wyattjoh/jmap-mcp/blob/main/CLAUDE.md "CLAUDE.md")

[LICENSE](/wyattjoh/jmap-mcp/blob/main/LICENSE "LICENSE")

[LICENSE](/wyattjoh/jmap-mcp/blob/main/LICENSE "LICENSE")

[README.md](/wyattjoh/jmap-mcp/blob/main/README.md "README.md")

[README.md](/wyattjoh/jmap-mcp/blob/main/README.md "README.md")

[deno.json](/wyattjoh/jmap-mcp/blob/main/deno.json "deno.json")

[deno.json](/wyattjoh/jmap-mcp/blob/main/deno.json "deno.json")

[deno.lock](/wyattjoh/jmap-mcp/blob/main/deno.lock "deno.lock")

[deno.lock](/wyattjoh/jmap-mcp/blob/main/deno.lock "deno.lock")

View all files

## Repository files navigation

*   [README](#)
*   [MIT license](#)

# JMAP MCP Server

[](#jmap-mcp-server)

[![JSR](https://camo.githubusercontent.com/8d3c610fb6ee387ad65ca5d0f2e5ce57b4798bf5e3810ba33cf2e2641b05676f/68747470733a2f2f6a73722e696f2f6261646765732f4077796174746a6f682f6a6d61702d6d6370)](https://jsr.io/@wyattjoh/jmap-mcp) [![JSR Score](https://camo.githubusercontent.com/b16c072f28d1b38b443dbcf13deafda0e72d0717211e01ba0f304699e390a22b/68747470733a2f2f6a73722e696f2f6261646765732f4077796174746a6f682f6a6d61702d6d63702f73636f7265)](https://jsr.io/@wyattjoh/jmap-mcp) [![JSR Scope](https://camo.githubusercontent.com/8f656eca203212de8397cefd9882bc5222db3b6edb89d30db19026d2e7d9d21a/68747470733a2f2f6a73722e696f2f6261646765732f4077796174746a6f68)](https://jsr.io/@wyattjoh)

A Model Context Protocol (MCP) server that provides tools for interacting with JMAP (JSON Meta Application Protocol) email servers. Built with Deno and using the [@htunnicliff/jmap-jam](https://jsr.io/@htunnicliff/jmap-jam) client library.

## Features

[](#features)

### Email Management Tools

[](#email-management-tools)

*   **Search Emails**: Search emails with text queries, sender/recipient filters, date ranges, and keywords
*   **Get Emails**: Retrieve specific emails by ID with full details
*   **Get Threads**: Retrieve email threads (conversation chains)
*   **Mark Emails**: Mark emails as read/unread, flagged/unflagged
*   **Move Emails**: Move emails between mailboxes
*   **Delete Emails**: Delete emails permanently

### Mailbox Management

[](#mailbox-management)

*   **Get Mailboxes**: List all mailboxes/folders with hierarchy support

### Email Composition

[](#email-composition)

*   **Send Email**: Compose and send new emails with support for plain text and HTML
*   **Reply to Email**: Reply to existing emails with reply-all support

### Key Capabilities

[](#key-capabilities)

*   Full JMAP RFC 8620/8621 compliance via jmap-jam
*   Comprehensive input validation with Zod schemas
*   Pagination support for all list operations
*   Rich error handling and connection management
*   Functional programming patterns throughout
*   TypeScript support with strong typing

## Installation

[](#installation)

### Prerequisites

[](#prerequisites)

*   [Deno](https://deno.land/) v1.40 or later
*   A JMAP-compliant email server (e.g., Cyrus IMAP, Stalwart Mail Server, FastMail)
*   Valid JMAP authentication credentials

### Setup

[](#setup)

Add the following to your agent of choice:

{
  "mcpServers": {
    "fastmail": {
      "type": "stdio",
      "command": "deno",
      "args": \[
        "run",
        "\--allow-net=api.fastmail.com",
        "\--allow-env=JMAP\_SESSION\_URL,JMAP\_BEARER\_TOKEN,JMAP\_ACCOUNT\_ID",
        "jsr:@wyattjoh/jmap-mcp@0.1.1"
      \],
      "env": {
        "JMAP\_SESSION\_URL": "https://api.fastmail.com/jmap/session",
        "JMAP\_BEARER\_TOKEN": "API\_TOKEN"
      }
    }
  }
}

## Usage

[](#usage)

### Environment Variables

[](#environment-variables)

Variable

Required

Description

`JMAP_SESSION_URL`

Yes

JMAP server session URL (usually ends with `/.well-known/jmap`)

`JMAP_BEARER_TOKEN`

Yes

Bearer token for authentication

`JMAP_ACCOUNT_ID`

No

Account ID (auto-detected if not provided)

### Available Tools

[](#available-tools)

#### `search_emails`

[](#search_emails)

Search for emails with various filters.

**Parameters:**

*   `query` (optional): Text search query
*   `from` (optional): Filter by sender email address
*   `to` (optional): Filter by recipient email address
*   `subject` (optional): Filter by subject text
*   `inMailbox` (optional): Search within specific mailbox
*   `hasKeyword` (optional): Filter by keyword (e.g., '$seen', '$flagged')
*   `notKeyword` (optional): Exclude by keyword
*   `before` (optional): Only emails before date (ISO datetime)
*   `after` (optional): Only emails after date (ISO datetime)
*   `limit` (optional): Max results (1-100, default: 50)
*   `position` (optional): Starting position for pagination (default: 0)

#### `get_emails`

[](#get_emails)

Retrieve specific emails by their IDs.

**Parameters:**

*   `ids`: Array of email IDs (1-50 IDs)
*   `properties` (optional): Specific properties to return

#### `get_mailboxes`

[](#get_mailboxes)

Get list of mailboxes/folders.

**Parameters:**

*   `parentId` (optional): Filter by parent mailbox
*   `limit` (optional): Max results (1-200, default: 100)
*   `position` (optional): Starting position for pagination

#### `get_threads`

[](#get_threads)

Get email threads by their IDs.

**Parameters:**

*   `ids`: Array of thread IDs (1-20 IDs)

#### `mark_emails`

[](#mark_emails)

Mark emails with keywords (read/unread, flagged/unflagged).

**Parameters:**

*   `ids`: Array of email IDs (1-100 IDs)
*   `seen` (optional): Mark as read (true) or unread (false)
*   `flagged` (optional): Mark as flagged (true) or unflagged (false)

#### `move_emails`

[](#move_emails)

Move emails to a different mailbox.

**Parameters:**

*   `ids`: Array of email IDs (1-100 IDs)
*   `mailboxId`: Target mailbox ID

#### `delete_emails`

[](#delete_emails)

Delete emails permanently.

**Parameters:**

*   `ids`: Array of email IDs (1-100 IDs)

#### `send_email`

[](#send_email)

Send a new email.

**Parameters:**

*   `to`: Array of recipients with `name` and `email`
*   `cc` (optional): Array of CC recipients
*   `bcc` (optional): Array of BCC recipients
*   `subject`: Email subject
*   `textBody` (optional): Plain text body
*   `htmlBody` (optional): HTML body
*   `identityId` (optional): Identity to send from

#### `reply_to_email`

[](#reply_to_email)

Reply to an existing email.

**Parameters:**

*   `emailId`: ID of email to reply to
*   `replyAll` (optional): Reply to all recipients (default: false)
*   `subject` (optional): Custom reply subject
*   `textBody` (optional): Plain text body
*   `htmlBody` (optional): HTML body
*   `identityId` (optional): Identity to send from

## JMAP Server Compatibility

[](#jmap-server-compatibility)

This server should work with any JMAP-compliant email server, including:

*   [Cyrus IMAP](https://www.cyrusimap.org/) 3.0+
*   [Stalwart Mail Server](https://stalw.art/)
*   [FastMail](https://www.fastmail.com/) (commercial)
*   [Apache James](https://james.apache.org/) (with JMAP support)

## Development

[](#development)

### Running in Development

[](#running-in-development)

deno run --allow-env --allow-net --watch src/mod.ts

### Testing

[](#testing)

# Test connection
deno run --allow-env --allow-net src/mod.ts

## Architecture

[](#architecture)

The server is built using:

*   **[Deno](https://deno.land/)**: Modern JavaScript/TypeScript runtime
*   **[@modelcontextprotocol/sdk](https://www.npmjs.com/package/@modelcontextprotocol/sdk)**: MCP server framework
*   **[jmap-jam](https://jsr.io/@htunnicliff/jmap-jam)**: Lightweight, typed JMAP client
*   **[Zod](https://zod.dev/)**: Runtime type validation

## Security

[](#security)

*   All input is validated using Zod schemas
*   Environment variables are used for sensitive configuration
*   No secrets are logged or exposed in responses
*   Follows JMAP security best practices

## Contributing

[](#contributing)

1.  Fork the repository
2.  Create a feature branch
3.  Make changes following the functional programming style
4.  Test your changes thoroughly
5.  Submit a pull request

## License

[](#license)

MIT License - see [LICENSE](/wyattjoh/jmap-mcp/blob/main/LICENSE) file for details.

## Related Projects

[](#related-projects)

*   [jmap-jam](https://github.com/htunnicliff/jmap-jam) - JMAP client library
*   [Model Context Protocol](https://modelcontextprotocol.io/) - MCP specification
*   [JMAP RFC 8620](https://datatracker.ietf.org/doc/html/rfc8620) - JMAP core protocol
*   [JMAP RFC 8621](https://datatracker.ietf.org/doc/html/rfc8621) - JMAP for Mail

## About

A Model Context Protocol (MCP) server that provides tools for interacting with JMAP (JSON Meta Application Protocol) email servers. Built with Deno and using the jmap-jam client library.

### Resources

[Readme](#readme-ov-file)

### License

[MIT license](#MIT-1-ov-file)

### Uh oh!

There was an error while loading. Please reload this page.

[Activity](/wyattjoh/jmap-mcp/activity)

### Stars

[**7** stars](/wyattjoh/jmap-mcp/stargazers)

### Watchers

[**0** watching](/wyattjoh/jmap-mcp/watchers)

### Forks

[**0** forks](/wyattjoh/jmap-mcp/forks)

[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fwyattjoh%2Fjmap-mcp&report=wyattjoh+%28user%29)

## [Releases](/wyattjoh/jmap-mcp/releases)

No releases published

## [Packages 0](/users/wyattjoh/packages?repo_name=jmap-mcp)

No packages published  

### Uh oh!

There was an error while loading. Please reload this page.

## Languages

*   [TypeScript 100.0%](/wyattjoh/jmap-mcp/search?l=typescript)

## Footer

[](https://github.com)Â© 2025 GitHub,Â Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You canât perform that action at this time.