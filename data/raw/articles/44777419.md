Title: Automatically Improving Floating Point Accuracy

URL Source: https://herbie.uwplse.org/

Published Time: Tue, 05 Aug 2025 18:27:02 GMT

Markdown Content:
Herbie: Automatically Improving Floating Point Accuracy

===============

The Herbie Project
==================

[![Image 3](https://herbie.uwplse.org/logo-car.png)](https://herbie.uwplse.org/)
*   [Try](https://herbie.uwplse.org/demo/)
*   [Install](https://herbie.uwplse.org/doc/latest/installing.html)
*   [Learn](https://herbie.uwplse.org/doc/latest/tutorial.html)

Find and fix floating-point problems:
-------------------------------------

`sqrt(x+1) - sqrt(x)` → `1/(sqrt(x+1) + sqrt(x))`

 Herbie detects inaccurate expressions and finds more accurate replacements. The red expression is inaccurate when _x > 1_; Herbie's replacement, in blue, is accurate for all _x_. 

### Use

*   [Web demo](https://herbie.uwplse.org/demo/)
*   [Install](https://herbie.uwplse.org/doc/latest/installing.html)
*   [News](https://herbie.uwplse.org/#news)
*   [Blog](https://herbie.uwplse.org/doc.html#blog)

### Learn

*   [Tutorial](https://herbie.uwplse.org/doc/latest/tutorial.html)
*   [Release Notes](https://herbie.uwplse.org/doc/latest/release-notes.html)
*   [Documentation](https://herbie.uwplse.org/doc.html)
*   [Papers about Herbie](https://herbie.uwplse.org/papers.html)

### Contribute

*   [Source Code](https://github.com/herbie-fp/herbie)
*   [Report a Bug](https://github.com/herbie-fp/herbie/issues)
*   [License](https://github.com/herbie-fp/herbie/blob/master/LICENSE.md)

Herbie improving accuracy on the “Hamming” benchmark suite. Longer arrows are better. Each arrow starts at the accuracy of the original expression, and ends at the accuracy of Herbie’s output, in each case on random double-precision inputs.

Herbie Project News
-------------------

1.   4 Aug[Herbie 2.2](https://herbie.uwplse.org/doc/2.2/release-notes.html) is out today! The star of this release is a new [platform API](https://herbie.uwplse.org/doc/2.2/platforms.html) for pluggable compilation targets. Try it out!

* * *

2.   17 Jul Today we are releasing [Herbie 2.1](https://herbie.uwplse.org/doc/2.1/release-notes.html)! This release makes Herbie's generated code—and Herbie itself—faster. Try it out!

* * *

3.   30 Jun We are proud to release [Herbie 2.0](https://herbie.uwplse.org/doc/2.0/release-notes.html)! This release teaches Herbie to optimize for both accuracy and speed, and includes a complete redesign of Herbie's reports and metrics. Try it out!

* * *

4.   24 Jul Due to a major unforseen issue with our release infrastructure, we are re-releasing [Herbie 1.5](https://herbie.uwplse.org/doc/1.5/release-notes.html). If you previously tried to install it and failed, please try again!
5.   9 Jul We're pleased to announce the release of [Herbie 1.5](https://herbie.uwplse.org/doc/1.5/release-notes.html), with features like argument sorting and multiple outputs. Do try it out!
6.   14 Jun[Brett](https://www.bsaiki.com/) and [Oliver](https://www.oflatt.com/) are giving a talk [ARITH 2021](http://arith2021.arithsymposium.org/) on adding precision tuning to Herbie. Tune in or [read the paper](https://herbie.uwplse.org/papers.html) to learn more!

* * *

7.   21 Jul[Zach](https://homes.cs.washington.edu/~ztatlock/) and [Pavel](https://pavpanchekha.com/) gave a talk about Herbie's last five years: [trust, measurement, community, and generality](https://www.youtube.com/watch?v=E2KtVa7j2eY&list=PL6VFuHglY6bKikq0bE5XTKFbKaY67l8aV&index=2&t=0s).
8.   20 Jul The chaos of 2020 now brings you a rowboat of stability: [Herbie 1.4](https://herbie.uwplse.org/doc/1.4/release-notes.html), with significant speed-ups and ease of use improvements. Download and try it today!

* * *

9.   18 Nov[David](http://davidthien.com/) will be talking about FPBench 1.2 and the latest improvements in Herbie at [Correctness 2019](https://correctness-workshop.github.io/2019/) in [Denver](https://sc19.supercomputing.org/).
10.   17 Nov Herbie got a shout-out in [Pavel](https://pavpanchekha.com/)'s talk at the [FP analysis tutorial](http://fpanalysistools.org/sc19/) at [SC'19](https://sc19.supercomputing.org/).
11.   1 May[Pavel](https://pavpanchekha.com/) will be joining the [University of Utah](https://www.utah.edu/) as an assistant professor next year, joining [Ganesh](http://www.cs.utah.edu/~ganesh/) and [Zvonimir](https://zvonimir.info/) at what is already a nexus of floating-point research.
12.   13 Mar[Zach](https://homes.cs.washington.edu/~ztatlock/) gave a keynote at [CoNGA’19](https://posithub.org/conga/2019/) on multi-precision, multi-format computations and our efforts to support them in Herbie, [FPBench](http://fpbench.org/), and [Titanic](http://titanic.uwplse.org/).

* * *

13.   20 Jun[Alex](http://alexsanchezstern.com/) gave [a talk](https://www.youtube.com/watch?v=bFL6PaPrz8Y) on our sister project Herbgrind at [PLDI’18](https://conf.researchr.org/home/pldi-2018). Watch it if you want to know how Herbgrind pulls inaccurate floating-point expressions out of large numeric code bases.
14.   15 Jun After a year of work, [Herbie 1.2](https://herbie.uwplse.org/doc/1.2/release-notes.html) has been released. This release focuses on creativity and accuracy, with a new system to infer better branches and more accurate defaults for Herbie's various parameters. Read about all the changes in the [release notes](https://herbie.uwplse.org/doc/1.2/release-notes.html).
15.   9 Apr We teamed up with [Heiko](https://www.mpi-sws.org/people/hbecker/) and [Eva](https://people.mpi-sws.org/~eva/) on the [Daisy](https://github.com/malyzajko/daisy) team to combine our tools and evaluate how best to use them together—it'll be published at [FM’18](https://fm2018.org/). If you're using Herbie with other floating point tools, let us know!
16.   1 Mar[Pavel](https://pavpanchekha.com/) and [Zach](https://homes.cs.washington.edu/~ztatlock/) went to see [Herbie Hancock play at the Seattle Center](https://www.mccawhall.com/events/detail/herbie-hancock). Watching Herbie play Chameleon on the keytar is sure to inspire the next generation of floating point accuracy improvement!
17.   17 Jan[Pavel](https://pavpanchekha.com/) gave [a talk](https://www.youtube.com/watch?v=oYtnXEZC0jk) at [Microsoft Research Redmond](https://www.microsoft.com/en-us/research/) on Herbie and [Herbgrind](http://herbgrind.ucsd.edu/), plus the [FPBench](http://fpbench.org/) project. Thank you everyone who came!
18.   3 Jan[Pavel](https://pavpanchekha.com/) wrote a [retrospective](http://pavpanchekha.com/blog/how-herbie.html) on the early history of Herbie, and some lessons learned.

* * *

19.   24 Aug[Pavel](https://pavpanchekha.com/) gave a talk at [MPI-SWS](https://www.mpi-sws.org/) Saarbrücken on Herbie, [Herbgrind](http://herbgrind.ucsd.edu/), lessons learned, and what comes next. Thank you [Eva Darulova](https://people.mpi-sws.org/~eva/) and her students for the invitation and the warm welcome. The video was recorded and can be watched on [YouTube](https://www.youtube.com/watch?v=WvDZ4m4fAF0).
20.   3 May After incubating on this website, [Herbgrind](http://herbgrind.ucsd.edu/) has moved to a [new website](http://herbgrind.ucsd.edu/) hosted at UCSD, where [Alex](http://alexsanchezstern.com/), Herbie star and the main Herbgrind developer, is now doing his PhD. We'll continue our close collaboration, including in the FPBench project, and are hoping the new, more-focused websites help users.
21.   1 May Just one month after the beta, [Herbie 1.1](https://herbie.uwplse.org/doc/1.1/release-notes.html) has been released. This release adds a [browser](https://herbie.uwplse.org/doc/latest/using-web.html) interface for Herbie, and includes significant bug fixes, usability tweaks, and improvements. Read about all the changes in the [release notes](https://herbie.uwplse.org/doc/1.1/release-notes.html).
22.   20 Apr Our sister project [Herbgrind](http://herbgrind.ucsd.edu/) has released version 0.42. This pre-release is a reworked, faster, and more stable Herbgrind, which can find root causes for floating-point errors in the largest and gnarliest of codebases!
23.   2 Apr After months of work, a beta of [Herbie 1.1](https://herbie.uwplse.org/doc/1.1/release-notes.html) has been released. This release adds a [browser](https://herbie.uwplse.org/doc/latest/using-web.html) interface for Herbie, and includes significant bug fixes, usability tweaks, and improvements. Read about all the changes in the [release notes](https://herbie.uwplse.org/doc/1.1/release-notes.html).
24.   3 Feb[Zach](https://s3-us-west-2.amazonaws.com/uwplse/Herbie/dropbox-2014-04.mp4) is giving [a talk](http://www.cs.utah.edu/calendar/colloquium-zach-tatlock/) at the University of Utah about Herbie, FPBench, and Herbgrind. Please come to learn about automated tools for floating point!

* * *

25.   13 Jun After months of work, the Herbie developers are proud to announce the release of [Herbie 1.0](https://herbie.uwplse.org/doc/1.0/release-notes.html). This release transitions to the [FPCore](https://herbie.uwplse.org/doc/latest/input.html) format from the [FPBench](http://fpbench.org/) initiative, and includes significant bug fixes, usability tweaks, and improvements. Read about all the changes in the [release notes](https://herbie.uwplse.org/doc/1.0/release-notes.html).
26.   9 May In preparation for the Version 1.0 release, we've renamed the `pi` and `e` constants to upper case. This matches `libm` and should make it a little harder to cause bugs. Herbie will now optimize expressions like `(exp 1)` to `E`.
27.   6 May We're proud to announce that we've been collaborating with [Prof. Martel](http://perso.univ-perp.fr/mmartel/) and his students to build a [common benchmark suite and format](http://fpbench.org/) for floating point tools. Version 1.0 of Herbie will support only the FPBench format.
28.   4 Apr[Pavel](https://pavpanchekha.com/) is giving a talk at Google on how Herbie works and what our plans for the future are.
29.   30 Mar[Pavel](https://pavpanchekha.com/) is giving a talk at MIT on how Herbie works internally.
30.   6 Mar In preparation for the Version 1.0 release, we've renamed several functions in Herbie to match the `libm` names. In particular, look out for `abs`, which is now `fabs`, and `expt`, which is now `pow`.
31.   26 Jan[Pavel](https://pavpanchekha.com/) is giving a talk at MathWorks on how Herbie works answered questions on how it could be extended.
32.   25 Jan The [Herbie Rust Linter](https://github.com/mcarton/rust-herbie-lint) plugs into the Rust compiler to add warnings for numerically unstable expressions, and suggests Herbie's more accurate output as a hint.

* * *

33.   1 Oct The [Herbie GHC Plugin](https://github.com/mikeizbicki/HerbiePlugin#herbie-ghc-plugin) by Mike Izbicki automatically runs Herbie on applicable expressions in a Haskell program. He's also scanned all of [Stackage LTS-3.5](https://www.stackage.org/lts-3.5) for numerical inaccuracies with Herbie.
34.   13 Jun[Pavel](https://pavpanchekha.com/) is giving a [Distinguished Paper](https://herbie.uwplse.org/papers.html) talk at [PLDI’15](http://conf.researchr.org/home/pldi2015) on the scientific advances that underpin Herbie.
35.   9 Apr[Zach](https://homes.cs.washington.edu/~ztatlock/) is giving a talk at Berkeley on how we plan to improve floating point accuracy with Herbie.

* * *

36.   17 Jun[Pavel](https://pavpanchekha.com/) is giving a [talk](https://s3-us-west-2.amazonaws.com/uwplse/Herbie/oplss-2014-06.pdf) at OPLSS on whether floating point accuracy can be improved, and our plans for finding out.
37.   15 May[Pavel](https://pavpanchekha.com/) is giving a [lightning talk](https://s3-us-west-2.amazonaws.com/uwplse/Herbie/lightingtalk-2014-05.pdf) on a new project to improve the accuracy of floating point expressions.
38.   31 Mar[Pavel](https://pavpanchekha.com/) is giving a [talk](https://s3-us-west-2.amazonaws.com/uwplse/Herbie/dropbox-2014-04.pdf) on at Dropbox on a new project to improve the accuracy of floating point expressions. ([video](https://s3-us-west-2.amazonaws.com/uwplse/Herbie/dropbox-2014-04.mp4))
39.   See older news

The Herbie Developers
---------------------

Herbie is developed at [UW](https://cs.washington.edu/)[PLSE](https://uwplse.org/), with contributions from a supportive community.

The main contributors are [Pavel Panchekha](https://pavpanchekha.com/), [Alex Sanchez-Stern](http://alexsanchezstern.com/), [David Thien](https://homes.cs.washington.edu/~dthien/blog/), [Zachary Tatlock](https://homes.cs.washington.edu/~ztatlock/), [Jason Qiu](https://herbie.uwplse.org/), [Jack Firth](https://github.com/jackfirth), and [James R. Wilcox](http://homes.cs.washington.edu/~jrw12/).

![Image 4](https://herbie.uwplse.org/doc/latest/team.png)