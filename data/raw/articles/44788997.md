Title: sqlite-sync/examples/android-integration at main · sqliteai/sqlite-sync

URL Source: https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration

Markdown Content:
sqlite-sync/examples/android-integration at main · sqliteai/sqlite-sync · GitHub

===============

[Skip to content](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration#start-of-content)
Navigation Menu
---------------

Toggle navigation

[](https://github.com/)

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fsqliteai%2Fsqlite-sync%2Ftree%2Fmain%2Fexamples%2Fandroid-integration)

Appearance settings

*    Product 

    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)
    *   [GitHub Spark New Build and deploy intelligent apps](https://github.com/features/spark)
    *   [GitHub Models New Manage and compare prompts](https://github.com/features/models)
    *   [GitHub Advanced Security Find and fix vulnerabilities](https://github.com/security/advanced-security)
    *   [Actions Automate any workflow](https://github.com/features/actions)

    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)
    *   [Issues Plan and track work](https://github.com/features/issues)
    *   [Code Review Manage code changes](https://github.com/features/code-review)
    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)
    *   [Code Search Find more, search less](https://github.com/features/code-search)

Explore
    *   [Why GitHub](https://github.com/why-github)
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com/)
    *   [GitHub Skills](https://skills.github.com/)
    *   [Blog](https://github.blog/)

*    Solutions 

By company size
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)

By use case
    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)
    *   [DevOps](https://github.com/solutions/use-case/devops)
    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)
    *   [View all use cases](https://github.com/solutions/use-case)

By industry
    *   [Healthcare](https://github.com/solutions/industry/healthcare)
    *   [Financial services](https://github.com/solutions/industry/financial-services)
    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)
    *   [Government](https://github.com/solutions/industry/government)
    *   [View all industries](https://github.com/solutions/industry)

[View all solutions](https://github.com/solutions)

*    Resources 

Topics
    *   [AI](https://github.com/resources/articles/ai)
    *   [DevOps](https://github.com/resources/articles/devops)
    *   [Security](https://github.com/resources/articles/security)
    *   [Software Development](https://github.com/resources/articles/software-development)
    *   [View all](https://github.com/resources/articles)

Explore
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [Events & Webinars](https://resources.github.com/)
    *   [Ebooks & Whitepapers](https://github.com/resources/whitepapers)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com/)
    *   [Executive Insights](https://github.com/solutions/executive-insights)

*    Open Source 

    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)

    *   [The ReadME Project GitHub community articles](https://github.com/readme)

Repositories
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)

*    Enterprise 

    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)

Available add-ons
    *   [GitHub Advanced Security Enterprise-grade security features](https://github.com/security/advanced-security)
    *   [Copilot for business Enterprise-grade AI features](https://github.com/features/copilot/copilot-business)
    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)

*   [Pricing](https://github.com/pricing)

Search or jump to...

Search code, repositories, users, issues, pull requests...
==========================================================

 Search  

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

Provide feedback
================

We read every piece of feedback, and take your input very seriously.

- [x] Include my email address so I can be contacted 

 Cancel  Submit feedback 

Saved searches
==============

Use saved searches to filter your results more quickly
------------------------------------------------------

Name 

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

 Cancel  Create saved search 

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fsqliteai%2Fsqlite-sync%2Ftree%2Fmain%2Fexamples%2Fandroid-integration)

[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=sqliteai%2Fsqlite-sync)

Appearance settings

Resetting focus

You signed in with another tab or window. [Reload](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration) to refresh your session.Dismiss alert

{{ message }}

[sqliteai](https://github.com/sqliteai)/**[sqlite-sync](https://github.com/sqliteai/sqlite-sync)**Public

*   [Notifications](https://github.com/login?return_to=%2Fsqliteai%2Fsqlite-sync)You must be signed in to change notification settings
*   [Fork 1](https://github.com/login?return_to=%2Fsqliteai%2Fsqlite-sync)
*   [Star 24](https://github.com/login?return_to=%2Fsqliteai%2Fsqlite-sync) 

*   [Code](https://github.com/sqliteai/sqlite-sync)
*   [Issues 1](https://github.com/sqliteai/sqlite-sync/issues)
*   [Pull requests 0](https://github.com/sqliteai/sqlite-sync/pulls)
*   [Actions](https://github.com/sqliteai/sqlite-sync/actions)
*   [Projects 0](https://github.com/sqliteai/sqlite-sync/projects)
*   [Security](https://github.com/sqliteai/sqlite-sync/security)[](https://github.com/sqliteai/sqlite-sync/security)[](https://github.com/sqliteai/sqlite-sync/security)[](https://github.com/sqliteai/sqlite-sync/security)[### Uh oh!](https://github.com/sqliteai/sqlite-sync/security)
[There was an error while loading.](https://github.com/sqliteai/sqlite-sync/security)[Please reload this page](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration).    
*   [Insights](https://github.com/sqliteai/sqlite-sync/pulse)

Additional navigation options

*   [Code](https://github.com/sqliteai/sqlite-sync)
*   [Issues](https://github.com/sqliteai/sqlite-sync/issues)
*   [Pull requests](https://github.com/sqliteai/sqlite-sync/pulls)
*   [Actions](https://github.com/sqliteai/sqlite-sync/actions)
*   [Projects](https://github.com/sqliteai/sqlite-sync/projects)
*   [Security](https://github.com/sqliteai/sqlite-sync/security)
*   [Insights](https://github.com/sqliteai/sqlite-sync/pulse)

Collapse file tree
------------------

Files
-----

main

Search this repository

*         .github  
*         curl  
*         docs  
*         examples  
    *          android-integration  
        *         README.md  

    *          simple-todo-db  
    *          sport-tracker-app  

*         sqlite  
*         src  
*         test  
*       .gitignore  
*       API.md  
*       LICENSE.md  
*       Makefile  
*       README.md  

Breadcrumbs
-----------

1.   [sqlite-sync](https://github.com/sqliteai/sqlite-sync/tree/main)
2.   /[examples](https://github.com/sqliteai/sqlite-sync/tree/main/examples)

/
android-integration
===================

/

Copy path

Directory actions
-----------------

More options
------------

More options[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration)[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration)

Directory actions
-----------------

More options
------------

More options[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration)[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration)

Latest commit
-------------

[![Image 1: damlayildiz](https://avatars.githubusercontent.com/u/56313500?v=4&size=40)](https://github.com/damlayildiz)[damlayildiz](https://github.com/sqliteai/sqlite-sync/commits?author=damlayildiz)

[docs: add android doc](https://github.com/sqliteai/sqlite-sync/commit/c298f0bb9eac60c47925fcb33d756b3a581f9e82)

success

Aug 4, 2025

[c298f0b](https://github.com/sqliteai/sqlite-sync/commit/c298f0bb9eac60c47925fcb33d756b3a581f9e82)·Aug 4, 2025

History
-------

[History](https://github.com/sqliteai/sqlite-sync/commits/main/examples/android-integration)

Open commit details

[](https://github.com/sqliteai/sqlite-sync/commits/main/examples/android-integration)

Breadcrumbs
-----------

1.   [sqlite-sync](https://github.com/sqliteai/sqlite-sync/tree/main)
2.   /[examples](https://github.com/sqliteai/sqlite-sync/tree/main/examples)

/
android-integration
===================

/

Top

Folders and files
-----------------

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ### parent directory [..](https://github.com/sqliteai/sqlite-sync/tree/main/examples) |
| [README.md](https://github.com/sqliteai/sqlite-sync/blob/main/examples/android-integration/README.md "README.md") | [README.md](https://github.com/sqliteai/sqlite-sync/blob/main/examples/android-integration/README.md "README.md") | [docs: add android doc](https://github.com/sqliteai/sqlite-sync/commit/c298f0bb9eac60c47925fcb33d756b3a581f9e82 "docs: add android doc") | Aug 4, 2025 |
| View all files |

[README.md](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration#readme)
--------------------------------------------------------------------------------------------------

Outline

SQLite Sync - Android Integration
=================================

[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration#sqlite-sync---android-integration)

This guide shows how to integrate SQLite Sync into your Android application. Since extension loading is disabled by default in Android's SQLite implementation, you need an alternative SQLite library that supports extensions.

This example uses the [requery:sqlite-android](https://github.com/requery/sqlite-android) library, but other options include building a custom SQLite with extension support or using other third-party SQLite libraries that enable extension loading.

### 1. Add Dependencies

[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration#1-add-dependencies)

In your `app/build.gradle.kts`:

undefinedkotlin
dependencies {
    implementation("com.github.requery:sqlite-android:3.49.0")
}
undefined

### 2. Bundle the Extension

[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration#2-bundle-the-extension)

Place your `cloudsync.so` file in: `app/src/main/assets/lib/cloudsync.so`

### 3. Basic Integration

[](https://github.com/sqliteai/sqlite-sync/tree/main/examples/android-integration#3-basic-integration)

undefinedkotlin
import android.content.Context
import androidx.activity.ComponentActivity
import androidx.lifecycle.lifecycleScope
import io.requery.android.database.sqlite.SQLiteCustomExtension
import io.requery.android.database.sqlite.SQLiteCustomFunction
import io.requery.android.database.sqlite.SQLiteDatabase
import io.requery.android.database.sqlite.SQLiteDatabaseConfiguration
import io.requery.android.database.sqlite.SQLiteFunction
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.launch
import kotlinx.coroutines.withContext
import java.io.File
import java.io.FileOutputStream

class MainActivity : ComponentActivity() {
    private fun copyExtensionToFilesDir(context: Context): File {
        val assetManager = context.assets
        val inputStream = assetManager.open("lib/cloudsync.so")

        val outFile = File(context.filesDir, "cloudsync.so")
        inputStream.use { input ->
            FileOutputStream(outFile).use { output ->
                input.copyTo(output)
            }
        }
        return outFile
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Copy extension from assets to filesystem
        val extensionFile = copyExtensionToFilesDir(this)
        val extensionPath = extensionFile.absolutePath
        
        // Create extension configuration
        val cloudSyncExtension = SQLiteCustomExtension(extensionPath, null)

        // Configure database with extension
        val config = SQLiteDatabaseConfiguration(
            "${filesDir.path}/test.db",
            SQLiteDatabase.CREATE_IF_NECESSARY or SQLiteDatabase.OPEN_READWRITE,
            emptyList<SQLiteCustomFunction>(),
            emptyList<SQLiteFunction>(),
            listOf(cloudSyncExtension)
        )

        // Open database
        val db = SQLiteDatabase.openDatabase(config, null, null)

        // Test extension loading
        lifecycleScope.launch {
            withContext(Dispatchers.IO) {
                val cursor = db.rawQuery("SELECT cloudsync_version();", null)
                val version = if (cursor.moveToFirst()) cursor.getString(0) else null
                cursor.close()

                if (version != null) {
                    println("SQLite Sync loaded successfully. Version: $version")
                } else {
                    println("Failed to load SQLite Sync extension")
                }
            }
        }
    }
}
undefined

For detailed SQLite Sync API documentation, see the main [documentation](https://github.com/sqliteai/sqlite-sync/blob/main/README.md).

Footer
------

[](https://github.com/) © 2025 GitHub,Inc. 

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com/?tags=dotcom-footer)
*    Manage cookies 
*    Do not share my personal information 

 You can’t perform that action at this time.