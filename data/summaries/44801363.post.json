{
  "id": 44801363,
  "lang": "ru",
  "summary": "Проблема  \nHTTP-стриминг в Mintlify внезапно сломался: работал в cURL/Postman, но не в node-fetch и браузерах.\n\nПервые шаги  \nПредположили несовместимость web-streams и Node-streams, но cURL с `--http1.1` работал, версия HTTP не влияла.  \nЗаметили, что ALB и Cloudflare вырезают `Transfer-Encoding`, `Connection`, `Content-Encoding`, но это не помогло.\n\nКостыль: Cloudflare Worker  \nСоздали прокси-воркер, который просто пересылал поток — и всё заработало. Причина оставалась загадкой.\n\nПрорыв  \nНочью Лукас вспомнил: cURL по умолчанию не отправляет `Accept-Encoding`, браузеры отправляют `gzip, deflate, br`.  \nClaude подсказал: без этого заголовка сервер не сжимает ответ. Значит, дело в сжатии.\n\nРешение  \nОтключили сжатие в Cloudflare — стриминг сразу восстановился, задержка исчезла.\n\nСтыдное осознание  \nТакая же проблема уже встречалась в Trieve и была исправлена PR #2002.  \nРазница: Trieve открыт, можно было посмотреть коммиты; в закрытой кодовой базе Mintlify отладка затянулась.",
  "inputHash": "7bdf74b310e92b66deee8714630a2e4a9ca2d2cece2aa80332ea4c10241f2fd4",
  "model": "moonshotai/kimi-k2:free",
  "createdISO": "2025-08-09T12:57:59.422Z"
}