{
  "id": 44910865,
  "lang": "ru",
  "summary": "**Как я случайно стал неофициальным разработчиком Apple Wallet для PureGym**\n\n**47 секунд: зарождение злодея**  \nКаждый вход в PureGym занимал 47 секунд: открыть приложение, дождаться загрузки, нажать «Gym access», дождаться QR. 6 дней в неделю — 282 секунды жизни на вход. Решил оптимизировать.\n\n**Восьмилетний PIN**  \n8 лет подряд использую один и тот же 8-значный PIN на турникете. Он никогда не протухал. А QR-код обновляется каждую минуту — спектакль безопасности.\n\n**mitmproxy и GitHub**  \nПопытка «заснять» QR и положить в Wallet провалилась — код умирает за минуту. На GitHub нашёл кучу недовольных разработчиков и старые репозитории PureGym.\n\n**PassKit: забытый ребёнок Apple**  \nQR-коды PureGym — это обычные signed passes Apple Wallet. Формат `.pkpass` — ZIP с JSON и подписью. Сгенерировал собственный pass: `pass.json`, `manifest.json`, подписал через `openssl`.\n\n**Swift-backend на Vapor**  \nНаписал сервис на Vapor:  \n- авторизация по логину/паролю PureGym  \n- парсинг JSON с QR-кодом  \n- генерация нового `.pkpass` каждые 6 часов  \n- отдача по deeplink `https://pass.puregym.local/{id}`\n\n**The Great Gym Heist**  \nЗапустил сервер на домашнем Raspberry Pi. Первый вход — 3 секунды, без приложения. Через неделю 50+ человек используют мой сервис. Никто не заметил.\n\n**Apple Watch**  \nДобавил Watch-расширение: показ pass на двойное нажатие боковой кнопки. Работает даже без телефона.\n\n**Цифры**  \n- 47 → 3 секунды входа  \n- 282 → 18 секунд в неделю  \n- 50+ пользователей  \n- 0 жалоб\n\n**Бонус**  \nСделал push-уведомления, если pass не обновился. Добавил темную иконку для Vision Pro.\n\n**Неловкая правда**  \nPureGym мог бы сам выдать Wallet-pass за день работы. Но 8 лет никто не заметил.\n\n**Этика**  \nНикаких персональных данных не храню, только токен. Если закроют — открою исходники.\n\n**Что дальше**  \nПланирую добавить NFC-таг у входа: поднёс Watch — дверь открылась.",
  "inputHash": "ac3b79ea41993ea97b72123eee608624a532a2909b2a718052a42f363494c8ef",
  "model": "moonshotai/kimi-k2:free",
  "createdISO": "2025-08-16T01:53:28.357Z"
}