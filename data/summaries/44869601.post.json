{
  "id": 44869601,
  "lang": "ru",
  "summary": "Жизненный цикл pull-request в Tangled\n\nПоследние две недели мы строили систему PR. Вот как она устроена.\n\n**Три способа внести изменения**  \n- Вставить патч в веб-интерфейс  \n- Сравнить две локальные ветки (для коллабораторов)  \n- Сравнить форки  \n\nВ основе любого PR лежит патч: `git diff` или дифф, сгенерированный нами.\n\n### Генерация патча\n\nСоздаём патч как разницу между вашей веткой и целевой.  \nЕсли `A` — merge-base, то патч содержит только коммиты `X` и `Y`, не трогая `B` и `C`.\n\n### Форки и скрытые рефы\n\nДля форков делаем «скрытый tracking ref»:  \n`+refs/heads/main:refs/hidden/<feature>/main`.  \nПри каждом пуше обновляем этот реф и диффим против него.  \nВесь PR хранится как запись atproto и обновляется при изменении патча.\n\n### Раунды ревью\n\nРевью идёт по раундам:  \n- Раунд 0 — первый патч.  \n- После правок автор нажимает «resubmit» → раунд 1 и т.д.  \n\nПлюсы:  \n- Патчи неизменны внутри раунда.  \n- Комментарии привязаны к версии.  \n- Скоро появится interdiff между раундами.\n\n### Планы\n\n- `format-patch` уже работает.  \n- Gerrit-стиль `refs/for/main` — в разработке.  \n- Change ID для группировки изменений и истории (особенно удобно с Jujutsu).",
  "inputHash": "e2ed8240b44700918dec6324f8a9cede2dd926a517c83fad3439f0a072ee2ae6",
  "model": "moonshotai/kimi-k2:free",
  "createdISO": "2025-08-15T17:25:37.620Z"
}