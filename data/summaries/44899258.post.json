{
  "id": 44899258,
  "lang": "ru",
  "summary": "```markdown\n**Крутая штука:**  \nвставляем в HTML `<script>writeImage(\"dog.jpg\",\"мой пёс\")</script>` и получаем картинку с подписью.  \nФункция:\n\n```js\nfunction writeImage(url, title) {\n  document.write(`<img src=\"${url}\"><div class=\"caption\">${title}</div>`);\n}\n```\n\nТо же для повторяющихся блоков: `<script src=\"common.js\"></script><script>writeMetaViewport()</script>`.\n\nПолучаем «генератор» статики без генератора: Ctrl+S → reload, хостинг любой.\n\n**Но все твердят, что `document.write()` зло.**  \nДве простые рекомендации:\n\n1. Вызывать только на верхнем уровне или в функциях, чьи имена начинаются на `write…` (и рекурсивно для вызываемых ими).\n2. Никогда не выводить `<script>` и `<style>` — они блокируют парсер; `<img>` и прочие ресурсы можно, они грузятся параллельно.\n\nЕсли выводить незакрытые теги, браузер расстроится, поэтому выводим целые элементы.\n\n**Где применять:**  \nпростые сайты, которые обычно делают Jekyll/PHP. У меня так работают хедеры и повторяющиеся куски; скорость как у чистой статики, потому что всё выполняется во время парсинга.\n\nВдохновение — статья Paco Coursey «Grug XSLT», но XSLT заставлял писать весь сайт в XML. Это решение проще.\n\n**UPD.**  \nGoogle индексирует даже `<title>`, сгенерированный через `document.write()`, так что SEO жив.  \nНо:\n- требуется JS;  \n- метод официально deprecated (но работает везде);  \n- безопаснее `document.currentScript.replaceWith()` или `appendChild()`, однако они не умеют писать в `<head>` до `<body>` и не позволяют вставлять `<meta charset>` — `document.write()` с этим справляется.\n```",
  "inputHash": "b0b9a6664a60a4e843271820addc1d1d332469a4ba840056829764907e6e828d",
  "model": "moonshotai/kimi-k2:free",
  "createdISO": "2025-08-16T10:25:21.810Z"
}